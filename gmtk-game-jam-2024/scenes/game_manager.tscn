[gd_scene load_steps=6 format=3 uid="uid://c23wxpxl7cocu"]

[ext_resource type="Script" path="res://scripts/game_manager.gd" id="1_smdkj"]
[ext_resource type="PackedScene" uid="uid://budt3ysa5gk1b" path="res://scenes/piloting.tscn" id="1_ul1dy"]
[ext_resource type="Script" path="res://scripts/right_splitscreen_overlay.gd" id="3_ghbi3"]
[ext_resource type="PackedScene" uid="uid://l7cwkj8n10kq" path="res://scenes/repair.tscn" id="3_k7qbc"]
[ext_resource type="AudioStream" uid="uid://1mbocy3kkipm" path="res://assets/music/Cyberpunk Dark Synthwave - Dark Future  Royalty Free Copyright Safe Music_trimmed.mp3" id="5_yr6mc"]

[node name="Game Manager" type="Node2D"]
script = ExtResource("1_smdkj")

[node name="SplitscreenHBoxContainer" type="HBoxContainer" parent="."]
unique_name_in_owner = true
offset_right = 40.0
offset_bottom = 40.0
theme_override_constants/separation = 0
alignment = 1

[node name="LeftSplitscreenViewportContainer" type="SubViewportContainer" parent="SplitscreenHBoxContainer"]
layout_mode = 2

[node name="LeftSplitscreenViewport" type="SubViewport" parent="SplitscreenHBoxContainer/LeftSplitscreenViewportContainer"]
unique_name_in_owner = true
handle_input_locally = false
size = Vector2i(955, 1080)
render_target_update_mode = 4

[node name="Piloting" parent="SplitscreenHBoxContainer/LeftSplitscreenViewportContainer/LeftSplitscreenViewport" instance=ExtResource("1_ul1dy")]
unique_name_in_owner = true
position = Vector2(223, 125)

[node name="LeftSplitscreenCamera2D" type="Camera2D" parent="SplitscreenHBoxContainer/LeftSplitscreenViewportContainer/LeftSplitscreenViewport"]
unique_name_in_owner = true

[node name="Separator" type="ColorRect" parent="SplitscreenHBoxContainer"]
custom_minimum_size = Vector2(10, 2.08165e-12)
layout_mode = 2

[node name="RightSplitscreenViewportContainer" type="SubViewportContainer" parent="SplitscreenHBoxContainer"]
unique_name_in_owner = true
layout_mode = 2

[node name="RightSplitscreenViewport" type="SubViewport" parent="SplitscreenHBoxContainer/RightSplitscreenViewportContainer"]
unique_name_in_owner = true
handle_input_locally = false
size = Vector2i(955, 1080)
render_target_update_mode = 4

[node name="RightSplitscreenCamera2D" type="Camera2D" parent="SplitscreenHBoxContainer/RightSplitscreenViewportContainer/RightSplitscreenViewport"]
unique_name_in_owner = true
ignore_rotation = false
zoom = Vector2(49, 49)

[node name="RightSplitscreenOverlayViewportContainer" type="SubViewportContainer" parent="."]
unique_name_in_owner = true
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("3_ghbi3")

[node name="RightSplitscreenOverlaySubViewport" type="SubViewport" parent="RightSplitscreenOverlayViewportContainer"]
unique_name_in_owner = true
transparent_bg = true
handle_input_locally = false
render_target_update_mode = 4

[node name="Repair" parent="RightSplitscreenOverlayViewportContainer/RightSplitscreenOverlaySubViewport" instance=ExtResource("3_k7qbc")]
unique_name_in_owner = true

[node name="RightSplitscreenOverlayCamera2D" type="Camera2D" parent="RightSplitscreenOverlayViewportContainer/RightSplitscreenOverlaySubViewport"]
unique_name_in_owner = true
zoom = Vector2(2, 2)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("5_yr6mc")
volume_db = -25.662
autoplay = true

[connection signal="shields_down" from="SplitscreenHBoxContainer/LeftSplitscreenViewportContainer/LeftSplitscreenViewport/Piloting" to="RightSplitscreenOverlayViewportContainer/RightSplitscreenOverlaySubViewport/Repair" method="_on_piloting_shields_down"]
[connection signal="computer_repaired" from="RightSplitscreenOverlayViewportContainer/RightSplitscreenOverlaySubViewport/Repair" to="SplitscreenHBoxContainer/LeftSplitscreenViewportContainer/LeftSplitscreenViewport/Piloting" method="_on_repair_computer_repaired"]
